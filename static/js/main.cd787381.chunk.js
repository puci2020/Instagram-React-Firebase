(this["webpackJsonpinstagram-react-firebase"]=this["webpackJsonpinstagram-react-firebase"]||[]).push([[0],{51:function(e,n,t){e.exports=t(74)},56:function(e,n,t){},58:function(e,n,t){e.exports=t.p+"static/media/2.17d7183a.jpg"},74:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(15),i=t.n(o),c=(t(56),t(9)),l=t(14),s=t(11);function u(){var e=Object(l.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    overflow-x: hidden;\n\n  }  \n  html, body{\n  font-size: 10px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  }\n"]);return u=function(){return e},e}var m=Object(s.b)(u()),d={colors:{background:"#fafafa",secondary:"#3E4042",white:"#E4E6EB",gray:"#dbdbdb"},font:{size:{xs:"1rem",s:"1.2rem",m:"1.4rem",l:"1.5rem"}},breakPoint:{phone:"@media(max-width: 767px)"}},p=function(e){var n=e.children;return r.a.createElement(s.a,{theme:d},r.a.createElement(m,null),n)},f=(t(58),t(100)),g=t(98),b=t(22),h=t.n(b),v=h.a.initializeApp({apiKey:"AIzaSyAzwWt_bY9bjDw6RywollbY3GTSyutdRcU",authDomain:"instagram-47603.firebaseapp.com",databaseURL:"https://instagram-47603.firebaseio.com",projectId:"instagram-47603",storageBucket:"instagram-47603.appspot.com",messagingSenderId:"506323584248",appId:"1:506323584248:web:c4f08df8ff7e9be2a9e70d",measurementId:"G-5B0Q6Y1FLH"}),x=v.firestore(),y=v.auth(),E=v.storage();function w(){var e=Object(l.a)(["\n  width: 100%;\n  object-fit: contain;\n   border-top: 1px solid ",";\n   border-bottom: 1px solid ",";\n  //height: auto;\n"]);return w=function(){return e},e}function j(){var e=Object(l.a)(["\n  width: 100%;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  \n  h3{\n  margin-left: 10px;\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(l.a)(["\n  max-width: 600px;\n  width: 100%;\n  height: fit-content;\n  border: 1px solid ",";\n  border-radius: 5px;\n  text-align: left;\n  background-color: white;\n  margin-bottom: 45px;\n  \n  .post__text{\n  padding: 10px;\n  font-weight: normal;\n  font-size: ",";\n  }\n    form{\n    display: flex;\n    width: 100%;\n    height: 40px;\n    font-size: ",";\n    border-top: 1px solid ",";\n    \n      .post__input{\n       border: none;\n        outline: none;\n        width: 90%;\n        padding-left: 10px;\n      }\n      \n      .post__button{\n        width: 10%;\n        font-size: ",";\n      }\n    }\n  \n"]);return O=function(){return e},e}var _=s.c.div(O(),(function(e){return e.theme.colors.gray}),(function(e){return e.theme.font.size.s}),(function(e){return e.theme.font.size.m}),(function(e){return e.theme.colors.gray}),(function(e){return e.theme.font.size.s})),N=s.c.div(j()),k=s.c.img(w(),(function(e){return e.theme.colors.gray}),(function(e){return e.theme.colors.gray})),S=function(e){var n=e.postId,t=e.user,o=e.data,i=Object(a.useState)([]),l=Object(c.a)(i,2),s=l[0],u=l[1],m=Object(a.useState)(""),d=Object(c.a)(m,2),p=d[0],b=d[1];Object(a.useEffect)((function(){var e;return n&&(e=x.collection("posts").doc(n).collection("comments").orderBy("timestamp","asc").onSnapshot((function(e){u(e.docs.map((function(e){return{id:e.id,com:e.data()}})))}))),function(){e()}}),[n]);return r.a.createElement(_,null,r.a.createElement(N,null,r.a.createElement(f.a,{className:"post__avatar",alt:"avatar"}),r.a.createElement("h3",null,o.username)),r.a.createElement(k,{src:o.imageURL,alt:"Zdj\u0119cie"}),r.a.createElement("h4",{className:"post__text"},r.a.createElement("strong",null,o.username)," ",o.caption),s.map((function(e){var n=e.id,t=e.com;return r.a.createElement("h4",{key:n,className:"post__text"},r.a.createElement("strong",null,t.username)," ",t.text)})),r.a.createElement("form",null,r.a.createElement("input",{type:"text",className:"post__input",placeholder:"Add a comment...",value:p,onChange:function(e){return b(e.target.value)}}),r.a.createElement(g.a,{type:"submit",className:"post__button",disabled:!p,onClick:function(e){e.preventDefault(),x.collection("posts").doc(n).collection("comments").add({text:p,username:t.displayName,timestamp:h.a.firestore.FieldValue.serverTimestamp()}),b("")}},"Post")))},C=t(97),z=t(99),I=t(96);function U(){var e=Object(l.a)(["\n  .closed{\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  height: 150px;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid lightgrey;\n  padding: 5px 20px;\n  position: fixed;\n  bottom: 0;\n  left: calc(50vw - 200px);\n  background-color: ",";\n  transform: translateY(100%);\n  transition: transform .35s ease-in-out;\n  \n  .file{\n  padding: 5px 0;\n  width: 100%;\n  display: flex;\n  \n  .file__input{\n  flex: 1;\n\n  }\n  .file__button{\n  flex: 0;\n  margin-left: 10px;\n  \n  }\n  }\n  \n  .control{\n  width: 100%;\n  font-size: ",";\n  }\n  \n  }\n  \n  .open{\n  transform: translateY(0);\n  }\n  \n  .btn{\n  position: fixed;\n  z-index: 666;\n  left: 47vw;\n  //right: 50px;\n  bottom: 150px;\n  width: 100px;\n  height: 50px;\n  background-color: ",";\n  border: 1px solid lightgrey;\n  border-bottom: none;\n  \n  outline: none;\n  transform: translateY(300%);\n  transition: transform .35s ease-in-out;\n  \n  &:hover{\n  cursor: pointer;\n  background-color: #dbd8d8;\n  }\n  }\n  \n  .btnOpen{\n  transform: translateY(0);\n  }\n  \n  \n  \n  \n"]);return U=function(){return e},e}var P=s.c.div(U(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.font.size.s}),(function(e){return e.theme.colors.background})),B=function(e){var n=e.username,t=Object(a.useState)(null),o=Object(c.a)(t,2),i=o[0],l=o[1],s=Object(a.useState)(""),u=Object(c.a)(s,2),m=u[0],d=u[1],p=Object(a.useState)(0),f=Object(c.a)(p,2),b=f[0],v=f[1],y=Object(a.useState)(!0),w=Object(c.a)(y,2),j=w[0],O=w[1];return r.a.createElement(P,null,r.a.createElement("button",{className:j?"btn":"btn btnOpen",onClick:function(){O(!j)}},"Post new content"),r.a.createElement("div",{className:j?"closed":"closed open"},r.a.createElement("progress",{className:"control",value:b,max:"100"}),r.a.createElement(z.a,{className:"control",value:m,type:"text",placeholder:"Enter a caption...",onChange:function(e){return d(e.target.value)}}),r.a.createElement("div",{className:"file"},r.a.createElement(z.a,{className:"control file__input",type:"file",onChange:function(e){e.target.files[0]&&l(e.target.files[0])}}),r.a.createElement(g.a,{className:"control file__button",onClick:function(){E.ref("images/".concat(i.name)).put(i).on("state_changed",(function(e){var n=Math.round(e.bytesTransferred/e.totalBytes*100);v(n)}),(function(e){console.log(e),alert(e.message)}),(function(){E.ref("images").child(i.name).getDownloadURL().then((function(e){x.collection("posts").add({timestapm:h.a.firestore.FieldValue.serverTimestamp(),caption:m,imageURL:e,username:n}),v(0),d(""),l(null),O(!0)}))}))}},"Upload"))))};t(71);function L(){var e=Object(l.a)(["\n\n"]);return L=function(){return e},e}function D(){var e=Object(l.a)(["\n  object-fit: contain;\n"]);return D=function(){return e},e}function A(){var e=Object(l.a)(["\n  width: 100%;\n  height: 54px;\n  position: fixed;\n  top: 0;\n  display: flex;\n  justify-content: space-between;\n  padding: 0 20%;\n  align-items: center;\n  border-bottom: 1px solid ",";\n  background-color: white;\n  \n  .btn{\n    font-size: ",";\n  }\n  ","{\n    padding: 0 10%;\n   \n  }\n"]);return A=function(){return e},e}function R(){var e=Object(l.a)(["\n  width: 100vw;\n  padding: 60px 20%;\n  display: grid;\n  grid-template-columns: 1.25fr 1fr;\n  grid-gap: 10px;\n  \n\n  \n  .left{\n      width: 100%;\n      height: fit-content;\n      grid-column: 1;\n  }\n  \n  .right{\n      width: 100%;\n      height: auto;\n      border: 1px solid lightgrey;\n      grid-column: 2;\n  \n  }\n  \n    ","{\n        grid-template-columns: 1fr;\n        padding: 60px 10%;\n    .right {\n      display: none;\n    };\n  }\n"]);return R=function(){return e},e}function Y(){var e=Object(l.a)(["\n  background-color: ",";\n  min-height: 100vh;\n\n"]);return Y=function(){return e},e}var F=s.c.div(Y(),(function(e){return e.theme.colors.background})),W=s.c.div(R(),(function(e){return e.theme.breakPoint.phone})),T=s.c.div(A(),(function(e){return e.theme.colors.gray}),(function(e){return e.theme.font.size.xs}),(function(e){return e.theme.breakPoint.phone})),M=s.c.img(D()),G=s.c.div(L());function H(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var J=Object(I.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),display:"flex",flexDirection:"column"},item:{margin:5,fontSize:12}}}));var V=function(){var e=J(),n=r.a.useState(H),t=Object(c.a)(n,1)[0],o=Object(a.useState)([]),i=Object(c.a)(o,2),l=i[0],s=i[1],u=Object(a.useState)(!1),m=Object(c.a)(u,2),d=m[0],f=m[1],b=Object(a.useState)(!1),h=Object(c.a)(b,2),v=h[0],E=h[1],w=Object(a.useState)(""),j=Object(c.a)(w,2),O=j[0],_=j[1],N=Object(a.useState)(""),k=Object(c.a)(N,2),I=k[0],U=k[1],P=Object(a.useState)(""),L=Object(c.a)(P,2),D=L[0],A=L[1],R=Object(a.useState)(null),Y=Object(c.a)(R,2),V=Y[0],K=Y[1];return Object(a.useEffect)((function(){var e=y.onAuthStateChanged((function(e){if(e){if(console.log(e),K(e),!e.displayName)return e.updateProfile({displayName:O})}else K(null)}));return function(){e()}}),[V,O]),Object(a.useEffect)((function(){x.collection("posts").orderBy("timestapm","desc").onSnapshot((function(e){s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[l]),r.a.createElement(p,null,r.a.createElement(F,null,r.a.createElement(C.a,{open:d,onClose:function(){return f(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("form",{style:t,className:e.paper},r.a.createElement(M,{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"Instagram Logo"}),r.a.createElement(z.a,{placeholder:"Username",type:"text",value:O,onChange:function(e){return _(e.target.value)},className:e.item}),r.a.createElement(z.a,{placeholder:"Email",type:"text",value:I,onChange:function(e){return U(e.target.value)},className:e.item}),r.a.createElement(z.a,{placeholder:"Password",type:"password",value:D,onChange:function(e){return A(e.target.value)},className:e.item}),r.a.createElement(g.a,{type:"submit",onClick:function(e){e.preventDefault(),y.createUserWithEmailAndPassword(I,D).then((function(e){return e.user.updateProfile({displayName:O})})).catch((function(e){return alert(e.message)})),f(!1)},className:e.item},"Sign Up"))),r.a.createElement(C.a,{open:v,onClose:function(){return E(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("form",{style:t,className:e.paper},r.a.createElement(M,{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"Instagram Logo"}),r.a.createElement(z.a,{placeholder:"Email",type:"text",value:I,onChange:function(e){return U(e.target.value)},className:e.item}),r.a.createElement(z.a,{placeholder:"Password",type:"password",value:D,onChange:function(e){return A(e.target.value)},className:e.item}),r.a.createElement(g.a,{type:"submit",onClick:function(e){e.preventDefault(),y.signInWithEmailAndPassword(I,D).catch((function(e){return alert(e.message)})),E(!1)},className:e.item},"Sign In"))),r.a.createElement(T,null,r.a.createElement(M,{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"Instagram Logo"}),V?r.a.createElement(g.a,{className:"btn",onClick:function(){return y.signOut()}},"Logout"):r.a.createElement(G,null,r.a.createElement(g.a,{className:"btn",onClick:function(){f(!0)}},"Sign Up"),r.a.createElement(g.a,{className:"btn",onClick:function(){return E(!0)}},"Sign In"))),r.a.createElement(W,null,r.a.createElement("div",{className:"left"},l.map((function(e){var n=e.id,t=e.data;return r.a.createElement(S,{key:n,postId:n,user:V,data:t})}))),r.a.createElement("div",{className:"right"})),(null===V||void 0===V?void 0:V.displayName)?r.a.createElement(B,{username:V.displayName}):r.a.createElement("h3",null,"Sorry you need to login to upload")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.cd787381.chunk.js.map